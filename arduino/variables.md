# Arduino 變數與常數（Variables and Constants）

在 Arduino C 程式設計中，使用變數（variables）與常數（constants）的主要目的是用來取代記憶體的實際位址，這能讓程式更容易**閱讀與維護**。編譯器會負責統一分配這些變數和常數所需的記憶體空間。



###  變數（Variables）

變數在宣告時，必須同時指定其資料型態，以便編譯器配置適當大小的記憶體空間來存放數值。

#### 變數命名規則

• 變數名稱的第一個字元**不可以是數字**。

• 必須以**英文字母**或**底線符號（_）**為開頭。

• 後續可緊接著字母或數字。

• 命名時應以**容易閱讀與辨識**為原則。

• C 語言中的**關鍵字**（keywords）由於被編譯器保留使用，因此不能作為變數或函式名稱。

#### 資料型態（Data Types）

Arduino 程式語言中的資料型態大致可分成布林、整數及浮點數三種。Arduino C 支援大部分 ANSI C 的資料型態。

| 資料型態           | 中文名稱 | 位元組長度        | 數值範圍或說明                                               | 
| ------------------ | -------- | ----------------- | ------------------------------------------------------------ | 
| boolean            | 布林值   | N/A               | 只有 `true`（真）或 `false`（假）兩種結果。`true` 值為 1 或非 0 數值，`false` 值為 0。 |      
| `byte`             | 位元組   | 1 Byte            | 無號整數（Unsigned），範圍為 **0 到 255**。                  |      
| `char`             | 字元     | 1 Byte            | 用於儲存字元，通常是 8 位元 ASCII 碼。可分為有號或無號。     |      
| `int`              | 整數     | 2 Bytes (16 位元) | 有號數，可為正數或負數的整數值。範圍為 **-32768 到 +32767**。 |      
| `long`             | 長整數   | 4 Bytes (32 位元) | 用於更大的整數值。                                           |      
| `float` / `double` | 浮點數   | 4 Bytes           | 用於包含小數點的數值。在 Arduino C 中，**float** **和** **double** **被視為相同**，皆為 4 位元組。 |      

**注意事項：**

• **整數截斷 (Truncation)：** 任何整數資料型態都不允許使用分數值。如果運算結果產生小數部分，該小數部分將被截斷，只保留整數部分（例如 5 / 4 的結果是 1）。

• **資料型態轉換：** 程式中可以使用如 `char(x)`、`byte(x)`、`int(x)` 等函式來改變變數 *x* 的資料型態。

#### 變數的生命週期（Scope）

變數的生命週期決定了它在記憶體中保存數值的時間長短：

• **全域變數 (Global Variables)：**

  ◦ 宣告在任何函式（function）**之外**。

  ◦ 從程式開始執行時產生並佔用記憶體，直到程式結束才會釋放。

  ◦ 所有函式都能存取，因此除非有特殊需求，否則應儘量避免使用，以防數值被不經意更改。

• **區域變數 (Local Variables)：**

  ◦ 宣告在函式的大括號 `{}` 內。

  ◦ 只在函式被呼叫時產生，函式執行結束後，系統會自動釋放所佔用的記憶體空間。



### 常數（Constants）

常數是指數值在程式執行期間不可改變的量。

#### 自定常數的定義方式

您可以透過兩種方式在程式中定義常數：

• **使用** **const** **關鍵字：**

  ◦ 在變數宣告前加上 `const` 關鍵字（例如：`const int n2=10;`），該變數即被視為常數。

  ◦ 常數的數值在宣告之後**不可再更改**。

• **使用** **#define** **前置命令：**

  ◦ 這是**前置處理器**（preprocessor）指令，用於定義一個**巨集名稱**來代表一個字串（可為常數值或運算式）。

  ◦ 當程式碼中出現該巨集名稱時，前置處理器會在編譯前將其替換為所定義的字串。

  ◦ 雖然巨集會比函式佔用更多記憶體空間，但其**執行速度較快**。

#### 數值常數（Numerical Constants）

整數常數預設為 **10 進制**數值，但可以透過前置字元改變其基數（Base）：

| 類型                   | 前置字元   | 說明                       | 範例                            | 
| ---------------------- | ---------- | -------------------------- | ------------------------------- | 
| **二進制** (Base 2)    | **B**      | 前置 B 表示 2 進制數值。   | `B00001100` 等於 10 進制的 12。 |     
| **八進制** (Base 8)    | **0** (零) | 前置 0 表示 8 進制數值。   | `014` 等於 10 進制的 12。       |     
| **十六進制** (Base 16) | **0x**     | 前置 0x 表示 16 進制數值。 | `0x0C` 等於 10 進制的 12。      |     

此外，在數值後面加上 `'u'` 或 `'U'` 可將資料型態改變為 `unsigned int`，加上 `'l'` 或 `'L'` 則改變為 `long`。

#### 預設及自定常數

這些常數是由 Arduino 環境定義，旨在提高程式的可閱讀性：

| 常數名稱         | 數值或功能描述                                     | 相關應用                                                     | 
| ---------------- | -------------------------------------------------- | ------------------------------------------------------------ | 
| **HIGH**         | 代表**高電位**（輸出時為 5V 或 3.3V 的工作電壓）。 | 數位寫入 (`digitalWrite`)，用於開啟裝置或表示有人/有活動。   |      
| **LOW**          | 代表**低電位**（輸出時為 0V）。                    | 數位寫入 (`digitalWrite`)，用於關閉裝置或表示沒人/沒活動。   |      
| `true` / `false` | 邏輯常數，用於布林運算。                           | `true` 為 1（或非 0），`false` 為 0。                        |      
| `LED_BUILTIN`    | 數位腳位 **13**。                                  | 指向 Arduino 控制板上內建的 LED 狀態指示燈。                 |      
| `OUTPUT`         | 模式常數。                                         | 用於 `pinMode()` 函式，設定腳位為**輸出模式**。              |      
| `INPUT`          | 模式常數。                                         | 用於 `pinMode()` 函式，設定腳位為**高阻抗輸入模式**。        |      
| `INPUT_PULLUP`   | 模式常數。                                         | 用於 `pinMode()` 函式，設定腳位為**內含提升電阻**（pull-up resistors）的輸入模式。 |      
